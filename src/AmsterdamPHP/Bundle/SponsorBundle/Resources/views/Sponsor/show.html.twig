{% extends 'AmsterdamPHPSiteBundle::layout.html.twig' %}

{% block content -%}
    <h1>Sponsor</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ entity.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ entity.name }}</td>
            </tr>
            <tr>
                <th>Details</th>
                <td>{{ entity.details }}</td>
            </tr>
            <tr>
                <th>Url</th>
                <td>{{ entity.url }}</td>
            </tr>
            <tr>
                <th>Logo</th>
                <td><img src="{{ entity.getLogo() }}" alt="" class="img-thumbnail" width="150"/></td>
            </tr>
            <tr>
                <th>Current Packages</th>
                <td>
                    <ul class="list-unstyled">
                        {% for package in entity.getCurrentMoneyPackages() %}
                            <li>
                                <img src="/bundles/amsterdamphpsponsor/badges/badge-{{ package.type }}-tiny.png" alt="{{ package.type }}"/>
                                ({{ package.startDate|date('j M, Y') }} to {{ package.endDate|date('j M, Y') }})

                                <a href="{{ path('admin_sponsor_remove_package', {id: entity.id, package_id: package.id}) }}"><i class="fa fa-times"></i></a>
                            </li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
            <tr>
                <th>Past/Future Packages</th>
                <td>
                    <ul class="list-unstyled">
                        {% for package in entity.packages %}
                            <li>
                                <img src="/bundles/amsterdamphpsponsor/badges/badge-{{ package.type }}-tiny.png" alt="{{ package.type }}"/>
                                {% if package.type == 'meeting' %}
                                    ({{ package.meetingDate|date('M/Y') }})
                                {% else %}
                                    ({{ package.startDate|date('j M, Y') }} to {{ package.endDate|date('j M, Y') }})
                                {% endif %}

                                <a href="{{ path('admin_sponsor_remove_package', {id: entity.id, package_id: package.id}) }}"><i class="fa fa-times"></i></a>
                            </li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
            <tr>
                <th>Meetings</th>
                <td>
                    <ul class="list-unstyled">
                        {% for meeting in entity.meetings %}
                            <li>{{ meeting.meetingType }}: {{ meeting.meetingDate|date('F, Y') }}</li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>

<ul class="record_actions list-inline">
    <li>
        <a href="{{ path('admin_sponsor') }}" class="btn btn-default">
            Back to the list
        </a>
    </li>
    <li>
        <a href="{{ path('admin_sponsor_edit', { 'id': entity.id }) }}" class="btn btn-default">
            Edit
        </a>
    </li>
    <li>
        {% include "AmsterdamPHPSponsorBundle:Sponsor:_add_package_button.html.twig" with { sponsor: entity } %}
    </li>
    <li>{{ form(delete_form) }}</li>
</ul>
{% endblock %}
